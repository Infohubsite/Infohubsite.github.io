@page "/Account/Logout"
@inject IAccountManagement Acct

<PageTitle>Logout</PageTitle>

<h3>Logout</h3>
<AuthorizeView>
	<Authorized>
		<div class="alert alert-info">Logging out...</div>
	</Authorized>
	<NotAuthorized>
		<div class="alert alert-success">You're logged out. <a href="/login">Login</a></div>
	</NotAuthorized>
</AuthorizeView>

@code {
	protected override async Task OnInitializedAsync()
	{
		if (await Acct.CheckAuthenticatedAsync())
		{
			await Acct.LogoutAsync();
		}
		await base.OnInitializedAsync();
	}
}
