@inherits LayoutComponentBase
@inject IAccountManagement Acct

<div class="page">
    <main>
        <AuthorizeView>
            <Authorized>
                <div class="top-row px-3 d-flex justify-content-between align-items-center">
                    <nav class="d-flex align-items-center" style="gap: 0.5rem;">
                        <NavLink href="/" Match="NavLinkMatch.All" class="btn btn-sm btn-secondary">Home</NavLink>
                        <NavLink href="counter" class="btn btn-sm btn-secondary">Counter</NavLink>
                        <NavLink href="fetchdata" class="btn btn-sm btn-secondary">Fetch Data</NavLink>
                    </nav>
                    <button @onclick="LogoutAsync" class="btn btn-sm btn-outline-light">Logout</button>
                </div>
            </Authorized>
        </AuthorizeView>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code {
    private async Task LogoutAsync()
    {
        await Acct.LogoutAsync();
    }
}